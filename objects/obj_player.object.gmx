<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>15</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>window_set_cursor(cr_cross);
//cursor_sprite = spr_cursor;

spd = 5;        //  스피드 함수
alive = 1;      //  생존, 죽음 구별 함수

walk = 0;   // walk 함수 초기화 시작
w_r = 0;
w_ru = 0;
w_rd = 0;
w_l = 0;
w_lu = 0;
w_ld = 0;
w_u = 0;
w_d = 0;    // walk 함수 초기화 끝 - Draw 이벤트 사용 시 필요

attack = 0; // 공격 딜레이 함수

punch_m = 1;    // 무기 변경 함수 시작
bat_m = 0;
gun_m = 0;      // 무기 변경 함수 끝

dead = 0;   // 죽음 관리 함수

enemy = 0;  // 적 인스턴트 값 저장 함수
kill = 0;   // 처형 관리 함수

throw_r = 0;    // 돌 던지기 함수
door_dir = 0;   // 문 열 때 각도 조정 함수
invisible = 0;  // 적 탐지 범위 조정 함수

image_speed = 0;
image_xscale = 1;
image_yscale = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>적 탐지 범위 ON/OFF</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>invisible = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>처형 관리</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>kill = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>재장전 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.player_bullet = 30;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>공격 함수 0로 초기화</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>attack = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>함수 및 기본 코드 정의</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 이벤트 함수 정의

var right = keyboard_check(ord("D"));
var left = keyboard_check(ord("A"));
var up = keyboard_check(ord("W"));
var down = keyboard_check(ord("S"));
var stop = keyboard_check(vk_nokey);
var fastmove = keyboard_check(vk_shift);
var slowmove = keyboard_check(vk_alt);    // 이동
var restart = keyboard_check(vk_escape);    // 재시작

var punch = keyboard_check(ord("1"));
var bat = keyboard_check(ord("2"));
var gun = keyboard_check(ord("3"));   // 무기 스왑

var attacking = mouse_check_button(mb_left);    // 공격
var execution = keyboard_check(ord("E"));  // 처형
var throw = keyboard_check(ord("G"));   // 돌 던지기
var invisibility = keyboard_check(ord("V"));    // 시각, 청각 범위 안보이게 하기

var gun_dir_x = 0;
var gun_dir_y = 0;  // 총 각도 조정

// 기본 코드 정의

if(restart)         // ESC 눌렀을 시 메인 화면으로 나오기
    game_restart();
    
if(invisibility)    // 적 탐지 범위 ON/OFF
{
    if( invisible == 0 )
    {
        invisible = 1;
        alarm[3] = 5;
        
        if( obj_sensor_circle.image_alpha == 1 &amp;&amp; obj_sensor_rect.image_alpha == 1 )
        {
            obj_sensor_circle.image_alpha = 0;
            obj_sensor_rect.image_alpha = 0;
        }
        else
        {
            obj_sensor_circle.image_alpha = 1;
            obj_sensor_rect.image_alpha = 1;
        }
    }
}

if( room == 3 )     // 룸 3와 4 사이 총 사용 유무 판단 함수
{
    global.enemy_gun = global.enemy_gun_m;
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>이동 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 캐릭터 이동 코드

if(alive == 1)
{

    if( kill == 0 )
    {
    
        image_angle = point_direction(x,y,mouse_x,mouse_y);     // 이미지 앵글은 항상 마우스 포인터 쪽으로
        
        if(stop)    // 정지
        {
            if( punch_m == 1 )
                if( attack == 0 )
                    sprite_index = spr_player;
            if( bat_m == 1 )
                if( attack == 0 )
                    sprite_index = spr_player_bat;
            if( gun_m == 1 )
                if( attack == 0 )
                    sprite_index = spr_player_gun;
            
            door_dir = 0;
            
            walk = 0;
            w_r = 0;
            w_ru = 0;
            w_rd = 0;
            w_l = 0;
            w_lu = 0;
            w_ld = 0;
            w_u = 0;
            w_d = 0;
        
        }
        
        if(right)   // 오른쪽
        {
            mp_linear_step(x+spd,y,spd,false);
            //mp_potential_step(x+spd,y,spd,false);
            //x += spd;
    
            door_dir = 1;
            
            walk = 1;
            w_r = 1;
            w_ru = 0;
            w_rd = 0;
            w_l = 0;
            w_lu = 0;
            w_ld = 0;
            w_u = 0;
            w_d = 0;
            
            if(up)  // 오른쪽 위
            {
                w_r = 0;
                w_ru = 1;
                w_rd = 0;
                w_l = 0;
                w_lu = 0;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
            if(down)    // 오른쪽 아래
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 1;
                w_l = 0;
                w_lu = 0;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
        }
        
        if(left)    // 왼쪽
        {
        
    
            mp_linear_step(x-spd,y,spd,false);
            //mp_potential_step(x-spd,y,spd,false);
            //x -= spd;
            
            door_dir = 2;
            
            walk = 1;
            w_r = 0;
            w_ru = 0;
            w_rd = 0;
            w_l = 1;
            w_lu = 0;
            w_ld = 0;
            w_u = 0;
            w_d = 0;
    
            if(up)  // 왼쪽 위
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 0;
                w_l = 0;
                w_lu = 1;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
            if(down)    // 왼쪽 아래
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 0;
                w_l = 0;
                w_lu = 0;
                w_ld = 1;
                w_u = 0;
                w_d = 0;
            }
            
        }
        
        if(up)  // 위쪽
        {
    
            mp_linear_step(x,y-spd,spd,false);
            //mp_potential_step(x,y-spd,spd,false);
            //y -= spd;
    
            door_dir = 3;
            
            walk = 1;
            w_r = 0;
            w_ru = 0;
            w_rd = 0;
            w_l = 0;
            w_lu = 0;
            w_ld = 0;
            w_u = 1;
            w_d = 0;
    
            if(right)   // 위 오른쪽
            {
                w_r = 0;
                w_ru = 1;
                w_rd = 0;
                w_l = 0;
                w_lu = 0;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
            if(left)    // 위 왼쪽
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 0;
                w_l = 0;
                w_lu = 1;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
        }
        
        if(down)    // 아래쪽
        {
    
            mp_linear_step(x,y+spd,spd,false);
            //mp_potential_step(x,y+spd,spd,false);
            //y += spd;
            
            door_dir = 4;
            
            walk = 1;
            w_r = 0;
            w_ru = 0;
            w_rd = 0;
            w_l = 0;
            w_lu = 0;
            w_ld = 0;
            w_u = 0;
            w_d = 1;
            
            if(right)   // 아래 오른쪽
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 1;
                w_l = 0;
                w_lu = 0;
                w_ld = 0;
                w_u = 0;
                w_d = 0;
            }
            
            if(left)    // 아래 왼쪽
            {
                w_r = 0;
                w_ru = 0;
                w_rd = 0;
                w_l = 0;
                w_lu = 0;
                w_ld = 1;
                w_u = 0;
                w_d = 0;
            }
            
        }
    
        if(fastmove)    //  달리기
        {
            if(right)||(left)||(up)||(down)
                spd = 6;
            else
                spd = 0;
            if( attack != 1 )
                image_speed = 1;
        }
        else if(slowmove)   //  걷기
        {
            spd = 3;
            if( attack != 1 )
                image_speed = 0.2;
        }
        else    // 일반 걸음
        {
            if(stop)
                spd = 0;
            else
                spd = 4;
            if( attack != 1 )
                image_speed = 0.3;
        }
    
    }
    
}














</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>무기 변경 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 무기 변경 코드

if( alive == 1 )
{
    if( kill == 0 &amp;&amp; throw_r == 0 )
    {
        if(punch)   // 펀치로 변경
        {
            if( global.player_punch == 1 )
            {
                punch_m = 1;
                bat_m = 0;
                gun_m = 0;
                
                sprite_index = spr_player;
            }
        }
    
        if(bat) // 배트로 변경
        {
            if( global.player_bat == 1 )
            {
                punch_m = 0;
                bat_m = 1;
                gun_m = 0;
                
                sprite_index = spr_player_bat;
            }
        }
    
        if(gun) // 총으로 변경
        {
            if( global.player_gun == 1 )
            {
                punch_m = 0;
                bat_m = 0;
                gun_m = 1;
                
                sprite_index = spr_player_gun;
            }
        }
    }
     
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>펀치 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 펀치 공격 코드

if( alive == 1 )
{
    if( kill == 0 &amp;&amp; throw_r == 0 )   // 처형 모드 컨트롤 or 돌 던지기 컨트롤 시작
    {
        audio_stop_sound(snd_execution);
        
        if( punch_m == 1 )
        {
            if(stop)||(right)||(left)||(up)||(down)    // 공격 시작
            {
                 if( attack == 0 )
                {
                
                    if( attacking )
                    {
                        attack = 1;
                        image_speed = 1;
                        sprite_index = spr_player_punch;
                        audio_play_sound(snd_punchswing,1,false);
                        instance_create(x,y, obj_player_punch_hit_box);
                        
                        alarm[0] = 10;
                    }
    
                }
            }   // 공격 끝
    
            if(execution)   // 펀치 처형 시작
            {
                if(place_meeting(x,y,obj_enemy))
                {
                    enemy = instance_place(x,y, obj_enemy);
                    
                    if( enemy.hp &lt;= 50 &amp;&amp; enemy.hp &gt; 0 )
                    {
                        kill = 1;
                        
                        image_speed = 0.3;
                        x = enemy.x;
                        y = enemy.y;
                        enemy.hp -= 50;
                        image_angle = enemy.image_angle - 90;
                        sprite_index = spr_player_punch_execution;
                        audio_play_sound(snd_execution,1,true);
                        alarm[2] = 60;
                    }
                }
            }   // 펀치 처형 끝
        }       // 펀치 모드 끝
    }           // 펀치 처형 모드 컨트롤 or 돌 던지기 컨트롤 끝
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>배트 공격 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 배트 공격 코드

if( alive == 1 )
{
    if( kill == 0 &amp;&amp; throw_r == 0 )     // 처형 모드 컨트롤 or 돌 던지기 컨트롤 시작
    {
        if( bat_m == 1 )
        {
            if(stop)||(right)||(left)||(up)||(down)   // 공격 시작
            {
    
                 if( attack == 0 )
                {
                    if(attacking)
                    {
                        attack = 1;
                        image_speed = 1;
                        sprite_index = spr_player_bat_attack;
                        audio_play_sound(snd_batswing,1,false);
                        instance_create(x,y,obj_player_bat_hit_box);
                        
                        alarm[0] = 15;
                    }
                }
            }   // 공격 끝
            
            if(execution)      // 배트 처형 시작
            {
                if(place_meeting(x,y,obj_enemy))
                {
                    enemy = instance_place(x,y, obj_enemy);
                    
                    if( enemy.hp &lt;= 50 &amp;&amp; enemy.hp &gt; 0 )
                    {
                        kill = 1;
                        
                        image_speed = 0.3;
                        x = enemy.x;
                        y = enemy.y;
                        enemy.hp -= 50;
                        image_angle = enemy.image_angle;
                        sprite_index = spr_player_bat_execution;
                        audio_play_sound(snd_execution,1,true);
                        alarm[2] = 60;
                    }
                }
            }       // 배트 처형 끝
        }           // 배트 모드 끝
    }               // 처형 모드 컨트롤 or 돌 던지기 컨트롤 끝
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>총 공격 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 총 공격 코드

if(image_angle &gt; 45 &amp;&amp; image_angle &lt; 135)   // 총 각 조정 시작
    gun_dir_x = 8;
else if(image_angle &gt; 225 &amp;&amp; image_angle &lt; 315)
    gun_dir_x = -8;
else
    gun_dir_x = 0; 

if((image_angle &gt; 0 &amp;&amp; image_angle &lt; 45) || (image_angle &gt; 315 &amp;&amp; image_angle &lt; 360))
    gun_dir_y = 8;
else if(image_angle &gt; 135 &amp;&amp; image_angle &lt; 225)
    gun_dir_y = -8;
else
    gun_dir_y = 0;                          // 총 각 조정 끝
    
if( alive == 1 )
{
    if( kill == 0 &amp;&amp; throw_r == 0 )     // 처형 컨트롤 관리 및 돌 던지기 관리 시작
    {
        if( gun_m == 1 )
        {
            if( global.player_bullet &gt; 0 )
            {
                   
                if(stop)||(right)||(left)||(up)||(down)    // 공격 시작
                {
                     if( attack == 0 )
                    {
                        
                        if(attacking)
                        {
                            if( global.enemy_gun_m == 0 )
                                global.enemy_gun_m = 1;
                                
                            attack = 1;
                            image_speed = 1;
                            sprite_index = spr_player_gun_attack;
                            instance_create(x + gun_dir_x + lengthdir_x(20,image_angle),y + gun_dir_y + lengthdir_y(20,image_angle), obj_player_gun_bullet);
                            
                            global.player_bullet -= 1;
                                if( global.player_bullet == 0 )     // 재장전
                                {
                                    image_speed = 0.3;
                                    
                                    audio_play_sound(snd_reload,1,false);
                                    sprite_index = spr_player_gun_reload;
                                    alarm[0] = 31;
                                    alarm[1] = 30;
                                }
                                else
                                {
                                    audio_play_sound(snd_MP5,1,false);
                                    alarm[0] = 5;
                                }
                            }
                    }
                }   // 공격 끝
            }
            
            if(execution)      //   처형 시작 ( 펀치 처형과 동일 )
            {
                if(place_meeting(x,y,obj_enemy))
                {
                    enemy = instance_place(x,y, obj_enemy);
                    
                    if( enemy.hp &lt;= 50 &amp;&amp; enemy.hp &gt; 0 )
                    {
                        kill = 1;
                        
                        image_speed = 0.3;
                        x = enemy.x;
                        y = enemy.y;
                        enemy.hp -= 50;
                        image_angle = enemy.image_angle - 90;
                        sprite_index = spr_player_punch_execution;
                        audio_play_sound(snd_execution,1,true);
                        alarm[2] = 60;
                    }
                }
            }   // 처형 끝
        }       // 총 모드 끝
    }           // 처형 모드 컨트롤 or 돌 던지기 컨트롤 끝
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>돌 던지기</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if( alive == 1 )
{
    if( kill == 0 &amp;&amp; throw_r == 0 )
    {
        if(throw)
        {
            throw_r = 1;
            
            if( instance_number(obj_rock) == 0 )
            {
                image_speed = 1;
                sprite_index = spr_player_punch;
                audio_play_sound(snd_rockthrow,1,false);
                instance_create(x + lengthdir_x(28,image_angle),y + lengthdir_y(28,image_angle), obj_rock);
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>죽었을 때 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 죽었을 때 코드

if( global.player_hp &lt;= 0 )
{
    alive = 0;
    
    if( alive == 0 )
    {
        if( dead == 0 )
        {
            dead = 1;
            image_angle += 180;
            sprite_index = spr_player_down;
            instance_create(x + 150, y, obj_dead_m);
        }
    }
     
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="80">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>어드민 용</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.player_bat = 1;
global.player_gun = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="79">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>어드민 용</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>222</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_next_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if( alive == 1 )
{
    if( walk == 0 )     // 걷기 끝났을 때
    {
        
        if(punch_m == 1)
            sprite_index = spr_player;
        if(bat_m == 1)
            sprite_index = spr_player_bat;
        if(gun_m == 1)
            sprite_index = spr_player_gun;
            
    }
    if( walk == 1 )     // 걷고 있을 때
    {
        if(punch_m == 1)
            sprite_index = spr_player_walk;
        if(bat_m == 1)
            sprite_index = spr_player_bat_walk;
        if(gun_m == 1)
            sprite_index = spr_player_gun_walk;
    }
    if( throw_r == 1 )  // 돌 던질 때
        throw_r = 0;
}

if( alive == 0 )    // 죽었을 때
{
    sprite_index = spr_player_down;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>이동 드로우 코드</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// 이동 드로우 코드

if( gun_m == 1 )    // 총 모드 일 때 총알 표시
    draw_text(mouse_x,mouse_y, global.player_bullet);

if( kill == 0 &amp;&amp; throw_r == 0 &amp;&amp; walk == 1 )
{
    if( punch_m == 1 &amp;&amp; attack == 0 )   // 펀치 모드 일 때 다리 드로우
    {
        if( w_r == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 0, c_white, 1);
        }
        
        if( w_ru == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 45, c_white, 1);
        }
        
        if( w_rd == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 315, c_white, 1);
        }
        
        if( w_l == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 180, c_white, 1);
        }
        
        if( w_lu == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 135, c_white, 1);
        }
        
        if( w_ld == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 225, c_white, 1);
        }
        
        if( w_u == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 90, c_white, 1);
        }
        
        if( w_d == 1 )
        {
            draw_sprite_ext(spr_player_walk_leg, -1, x, y, 1, 1, 270, c_white, 1);
        }
    }
    
    if( bat_m == 1 &amp;&amp; attack == 0 )     // 배트 모드 일 때 다리 드로우
    { 
        if( w_r == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 0, c_white, 1);
        }
        
        if( w_ru == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 45, c_white, 1);
        }
        
        if( w_rd == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 315, c_white, 1);
        }
        
        if( w_l == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 180, c_white, 1);
        }
        
        if( w_lu == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 135, c_white, 1);
        }
        
        if( w_ld == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 225, c_white, 1);
        }
        
        if( w_u == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 90, c_white, 1);
        }
        
        if( w_d == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 270, c_white, 1);
        }   
    }
    
    if( gun_m == 1 &amp;&amp; attack == 0 )     // 총 모드 일 때 다리 드로우
    {
        if( w_r == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 0, c_white, 1);
        }
        
        if( w_ru == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 45, c_white, 1);
        }
        
        if( w_rd == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 315, c_white, 1);
        }
        
        if( w_l == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 180, c_white, 1);
        }
        
        if( w_lu == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 135, c_white, 1);
        }
        
        if( w_ld == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 225, c_white, 1);
        }
        
        if( w_u == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 90, c_white, 1);
        }
        
        if( w_d == 1 )
        {
            draw_sprite_ext(spr_player_walk_bat_leg, -1, x, y, 1, 1, 270, c_white, 1);
        }
    }
    
}
draw_self();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>40,40</point>
    <point>40,40</point>
  </PhysicsShapePoints>
</object>
